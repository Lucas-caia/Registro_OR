<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Página Principal</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body{
      font-family: 'Poppins', sans-serif;
      background-color: #121212;
      color: #f8f8f8;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      text-align: center;
      background-image: url('path_to_dark_texture.jpg'); /* Textura escura */
      background-size: cover;
    }

    header h1{
      color: #ff4655;
      margin-bottom: 20px;
      font-size: 36px;
      text-shadow: 2px 2px 10px rgba(255, 70, 85, 0.5);
    }

    #registros-container{
      width: 100%;
      max-width: 800px;
      padding: 10px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }

    .registro{
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .registro:hover{
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(255, 70, 85, 0.7);
    }

    .registro-header{
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .registro-star, .registro-gear{
      font-size: 18px;
      color: #ff4655;
    }

    .registro-body{
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .registro-chip{
      background: rgba(255, 255, 255, 0.2);
      padding: 8px;
      border-radius: 12px;
      color: #f8f8f8;
      font-size: 14px;
      text-align: left;
      width: fit-content;
      margin: 0 auto;
    }

    #add-button{
      margin-top: 20px;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      background: #ff4655;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
    }

    #add-button:hover{
      background: #ff7685;
      transform: scale(1.1);
    }

    @media only screen and (max-width: 600px){
      header h1{
        font-size: 28px;
      }

      #registros-container{
        padding: 5px;
        gap: 10px;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>Registros</h1>
</header>

<main id="registros-container">
</main>

<button id="add-button">+</button>

<script>
  let registros = JSON.parse(localStorage.getItem("registros")) || [];

  function salvarRegistrosNoLocalStorage(){
    localStorage.setItem("registros", JSON.stringify(registros));
  }

  function carregarRegistros(){
    const container = document.getElementById("registros-container");
    container.innerHTML = "";

    registros.forEach((registro, index) => {
      const div = document.createElement("div");
      div.classList.add("registro");
      div.innerHTML = `
        <div class="registro-header">
          <!-- Ícones (exemplo usando entidades HTML) -->
          <span class="registro-star">&#9733;</span>
          <span class="registro-gear">&#9881;</span>
        </div>
        <div class="registro-body">
          <!-- Cada informação em um “chip” -->
          <div class="registro-chip">Nome: ${registro.nome}</div>
          <div class="registro-chip">Vida: ${registro.vidaAtual} / ${registro.vidaMax}</div>
          <div class="registro-chip">Sanidade: ${registro.sanidade}</div>
          <div class="registro-chip">Esforço: ${registro.esforcoAtual} / ${registro.esforcoMax}</div>
          <div class="registro-chip">Dinheiro: ${registro.dinheiro || '---'}</div>
          <div class="registro-chip">Pontos de missão: ${registro.pm}</div>
          <div class="registro-chip">Data: ${registro.data}</div>
        </div>
      `;
      div.addEventListener("click", () => {
        window.location.href = `DetailPage.html?id=${index}`;
      });

      container.appendChild(div);
    });
  }

  function addRegistro(novoRegistro){
    registros.push(novoRegistro);
    salvarRegistrosNoLocalStorage();
    carregarRegistros();
  }

  window.addRegistro = addRegistro;

  document.addEventListener("DOMContentLoaded", () => {
    const addButton = document.getElementById("add-button");

    addButton.addEventListener("click", () => {
      window.open("RegisterPage.html", "Cadastro", "width=600,height=600");
    });

    carregarRegistros();
    if (registros.length === 0) {
    container.innerHTML = "<p style='text-align: center; color: #bbb;'>Nenhum registro encontrado.</p>";
    }
  });
</script>
</body>
</html>
